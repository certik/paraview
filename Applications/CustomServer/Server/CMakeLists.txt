PROJECT(csServer)

IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)

INCLUDE_DIRECTORIES(
  ${ParaView_BINARY_DIR}
  ${ParaView_BINARY_DIR}/GUI/Client
  ${PVSERVERCOMMON_INCLUDE_DIR}
  ${PVFILTERS_INCLUDE_DIR}
  ${PVSERVERMANAGER_INCLUDE_DIR}
  ${VTKCLIENTSERVER_INCLUDE_DIR}
  ${VTK_INCLUDE_DIR}
  ${XDMF_INCLUDE_DIRS}
  ${Filtering_SOURCE_DIR}
  ${csServer_BINARY_DIR}
  ${csServer_SOURCE_DIR}
  )

IF(VTK_USE_MPI)
  INCLUDE_DIRECTORIES(${MPI_INCLUDE_PATH})
ENDIF(VTK_USE_MPI)

INCLUDE(${VTKCS_SOURCE_DIR}/vtkClientServer.cmake)

VTK_WRAP_ClientServer(csServer CLIENT_SERVER_SOURCES
  vtkCustomSource.h
)

ADD_EXECUTABLE(csServer
  main.cxx
  vtkCustomSource.cxx
  vtkCustomSource.h
  ${CLIENT_SERVER_SOURCES}
)

TARGET_LINK_LIBRARIES(csServer
  vtkPVServerCommon
  vtkPVFilters
  vtkPVServerManager
)

#SET(KIT_WRAP_DEPS Filtering)
#PV_WRAP_VTK_CS(Custom GRAPHICS "${KIT_WRAP_DEPS}")

